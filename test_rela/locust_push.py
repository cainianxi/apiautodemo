'''

https://api.rela.me/v1/live/gift/arPreReleaselist?appId=com.rela&apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170296&lng=121.430487&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	200	GET	api.rela.me	/v1/live/gift/arPreReleaselist?appId=com.rela&apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170296&lng=121.430487&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	Fri Oct 16 11:30:11 CST 2020	176	27700	Complete

https://api.rela.me/v3/themes/hotTheme/viewList?cursor=0&limit=100&key=9009003902675441808-106703001&lat=31.170296&lng=121.430487&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	200	GET	api.rela.me	/v3/themes/hotTheme/viewList?cursor=0&limit=100&key=9009003902675441808-106703001&lat=31.170296&lng=121.430487&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	Fri Oct 16 11:30:11 CST 2020	1023	23588	Complete

https://api.rela.me/v3/recommend/moments?cursor=0&limit=20&key=9009003902675441808-106703001&lat=31.170296&lng=121.430487&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	200	GET	api.rela.me	/v3/recommend/moments?cursor=0&limit=20&key=9009003902675441808-106703001&lat=31.170296&lng=121.430487&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	Fri Oct 16 11:30:11 CST 2020	753	15373	Complete

https://api.rela.me/v3/mainpage/subscribe?key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	200	GET	api.rela.me	/v3/mainpage/subscribe?key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	Fri Oct 16 11:30:11 CST 2020	211	1850	Complete

https://api.rela.me/v3/followpage/recommend/list?cursor=0&limit=10&key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	200	GET	api.rela.me	/v3/followpage/recommend/list?cursor=0&limit=10&key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	Fri Oct 16 11:30:12 CST 2020	435	5786	Complete

https://api.rela.me/v3/interface/resources?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&location=initAdv&mobileOS=IOS%2014.000000&resourceType=2&view_class=RfSUniversalRouterRootViewController	200	GET	api.rela.me	/v3/interface/resources?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&location=initAdv&mobileOS=IOS%2014.000000&resourceType=2&view_class=RfSUniversalRouterRootViewController	Fri Oct 16 15:37:04 CST 2020	45	700	Complete

https://api.rela.me/v1/live/list?cursor=0&sort=hot&key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	200	GET	api.rela.me	/v1/live/list?cursor=0&sort=hot&key=9009003902675441808-106703001&lat=31.170358&lng=121.430323&language=zh-Hans&mobileOS=iOS+14.0.1&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&apptype=universal&clientVersion=50304	Fri Oct 16 11:30:12 CST 2020	319	8291	Complete

https://api.rela.me/v2/users/blacklist?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170358&lng=121.430323&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	200	GET	api.rela.me	/v2/users/blacklist?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170358&lng=121.430323&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	Fri Oct 16 11:30:16 CST 2020	49	437	Complete

https://api.rela.me/v2/params/init?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	200	GET	api.rela.me	/v2/params/init?apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	Fri Oct 16 15:37:04 CST 2020	84	835	Complete

https://api.rela.me/friend/stay/moments/notRead?apptype=universal&client=iPhone11%2C8&clientVersion=50304&cursor=0&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	200	GET	api.rela.me	/friend/stay/moments/notRead?apptype=universal&client=iPhone11%2C8&clientVersion=50304&cursor=0&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170290&lng=121.430390&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController	Fri Oct 16 15:37:04 CST 2020	83	543	Complete

'''

import requests
# import os
# import locust
from locust import HttpUser, TaskSet, task, between

# 定义用户行为
# import sys
# sys.path.append(r'/Users/nianxi/PycharmProjects/ApiAutoTest/project-API-demo/demo/utils')
# from utilss import httpsample
# from utilss.httpsample import signature

# class UserBehavior(TaskSet):
#     def on_start(self):
#         self.key = '9009003902675441808-106703001'
#
#     @task(3)
def get_arPreReleaselist(self):
    # 获取ar礼物列表
    host = "http://api.rela.me"
    url = '/v1/live/gift/arPreReleaselist'
    params = {
        'key': '9009003902675441808-106703001',
        'appId':'com.rela',
        'apptype':'universal',
        'client':'iPhone11%2C8',
        'clientVersion':'50304',
        'deviceId':'sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af',
        'key':'9009003902675441808-106703001',
        'language':'zh-Hans',
        'lat':'31.170296',
        'lng':'121.430487',
        'mobileOS':'IOS%2014.000000',
        'view_class':'RfSUniversalRouterRootViewController'}
    url1 = "https://api.rela.me/v1/live/gift/arPreReleaselist?appId=com.rela&apptype=universal&client=iPhone11%2C8&clientVersion=50304&deviceId=sm_20191114115308e49289ad37d59211f1c6571595d5086001c967eb845c87af&key=9009003902675441808-106703001&language=zh-Hans&lat=31.170296&lng=121.430487&mobileOS=IOS%2014.000000&view_class=RfSUniversalRouterRootViewController"
    url2 = host + url
    params['signature'] = signature(params)
    response = requests.get(url2, params=params)
    self.client.get(url, params=params, name='gift/arPreReleaselist')